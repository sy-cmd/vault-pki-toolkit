#
# Certificate Renewal Daemon Configuration
#
#

# ============================================================================
# Monitoring Settings
# ============================================================================

# How often to scan for expiring certificates (in seconds)
# Default: 3600 (1 hour)
SCAN_INTERVAL=3600

# Directory containing certificates to monitor
# Default: current directory
CERT_DIRECTORY="/etc/ssl/certs"

# Scan subdirectories recursively
# Options: true, false
# Default: false
RECURSIVE=false

# ============================================================================
# Renewal Thresholds
# ============================================================================

# Renew certificates when they have this many days or fewer remaining
# Default: 7 days
RENEWAL_THRESHOLD=7

# Force renewal if certificate has this many days or fewer
# (even if renewal recently failed)
# Default: 1 day
MIN_REMAINING=1

# ============================================================================
# Vault Settings
# ============================================================================

# Vault server address
VAULT_ADDR="http://127.0.0.1:8200"

# Vault authentication token
# IMPORTANT: Use a token with appropriate PKI permissions
# Consider using Vault AppRole for better security
VAULT_TOKEN=""

# PKI secrets engine path
PKI_PATH="pki_int"

# Default role to use for certificate requests
# Can be: server, client, wildcard, or custom roles
DEFAULT_ROLE="server"

# ============================================================================
# Backup Settings
# ============================================================================

# Backup old certificates before renewal
# Options: true, false
# Default: true
BACKUP_OLD_CERTS=true

# Directory for certificate backups
BACKUP_DIRECTORY="/var/backups/certs"

# Backup retention (days) - future feature
# BACKUP_RETENTION_DAYS=90

# ============================================================================
# Logging Settings
# ============================================================================

# Log file location
LOG_FILE="/var/log/vault-pki/renewal.log"

# Log level: debug, info, warn, error
# Default: info
LOG_LEVEL="info"

# ============================================================================
# Notification Settings (Future Feature)
# ============================================================================

# Enable notifications for renewal events
# ENABLE_NOTIFICATIONS=false

# Notification method: log, email, slack, webhook
# NOTIFICATION_METHOD="log"

# Slack webhook URL (if using slack)
# SLACK_WEBHOOK_URL=""

# Email settings (if using email)
# EMAIL_TO="admin@example.com"
# EMAIL_FROM="vault-pki@example.com"
# SMTP_SERVER="localhost"

# ============================================================================
# Advanced Settings
# ============================================================================

# PID file location
PID_FILE="/var/run/cert-renewal-daemon.pid"

# State file location (tracks renewal attempts)
STATE_FILE="/var/lib/vault-pki/renewal-state.json"

# Maximum concurrent renewals (future feature)
# MAX_CONCURRENT_RENEWALS=3

# Retry failed renewals after this many seconds (future feature)
# RETRY_INTERVAL=1800